#!/bin/sh

YES=$(checkupdates | sed 's/ .*//')
TITLE="Updates Available!"
NUM=$(checkupdates | wc -l)
MAX=3
[[ $NUM -gt $MAX ]] && head -n$MAX $YES

notify_send(){
  [[ $YES ]] && dunstify "$TITLE" "$YES" -i system-software-update || \
  dunstify "No $TITLE" "Your system is fresh as hell" 
}

case $BLOCK_BUTTON in
  1) notify_send;;
  6) st -e $EDITOR "$0";;
esac

[[ $NUM -ge 10 ]] && notify_send
echo "^b#282828^^c#ebdbb2^ ðŸ“¦ $NUM ^d^"
