set drawbox
set info size
set icons
set dircounts
set autoquit on

# commands

cmd trash %gio trash "$fx"
cmd mkdir %mkdir "$@"
cmd dragon %dragon-drop -a -x "$fx"

cmd open ${{
    case $(file --mime-type "$f" -bL) in
        text/*|application/json) $EDITOR "$f";;
        *) xdg-open "$f" &> /dev/null ;;
    esac
}}

cmd unarchive ${{
  case "$f" in
      *.zip) unzip "$f" ;;
      *.tar.gz) tar -xzvf "$f" ;;
      *.tar.bz2) tar -xjvf "$f" ;;
      *.tar) tar -xvf "$f" ;;
      *) echo "Unsupported format" ;;
  esac
}}

cmd mkfile ${{
  printf "File Name: "
  read ans
  $EDITOR $ans
}}

# remove keybinds
map m

# keybinds
map au unarchive

map md push :mkdir<space>
map mf :mkfile
map DD :trash
map DR :dragon
